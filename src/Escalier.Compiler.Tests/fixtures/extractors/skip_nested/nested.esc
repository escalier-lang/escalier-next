let D = class {
  data2: string;
  new (mut self, data2: string) {
    self.data2 = data2;
  }
  fn [Symbol.customMatcher](self) {
    return [self.data2];
  }
};

// This is hack because we don't support class declarations
// or the ability to use classes as types
let d = D("data");

let C = class {
  data1: typeof d;
  new (mut self, data1: typeof d) {
    self.data1 = data1;
  }
  fn [Symbol.customMatcher](self) {
    return [self.data1];
  }
};

let subject = C(D("data"));
let C(D(x)) = subject;
